# Olympus Rust Services - Environment Configuration
# Copy this file to .env and update with your values

# === Database Configuration ===
# PostgreSQL connection URL
DATABASE_URL=postgresql://olympus:devpassword@localhost:5432/olympus

# === Redis Configuration ===
# Redis connection URL for caching and pub/sub
REDIS_URL=redis://localhost:6379

# === Authentication ===
# JWT secret key (minimum 32 characters, use a secure random string in production)
JWT_SECRET=your-secret-key-change-in-production-minimum-32-chars

# JWT token expiration times
JWT_ACCESS_TOKEN_EXPIRY=900        # 15 minutes in seconds
JWT_REFRESH_TOKEN_EXPIRY=2592000   # 30 days in seconds

# === Server Configuration ===
# Port for the HTTP server
PORT=8000

# Host binding (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
HOST=0.0.0.0

# === Logging ===
# Rust log level (trace, debug, info, warn, error)
RUST_LOG=olympus=debug,tower_http=debug,sqlx=warn

# === Environment ===
# Environment name (development, staging, production)
ENVIRONMENT=development

# === Security ===
# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Password hashing configuration
ARGON2_MEMORY_COST=65536  # 64 MB
ARGON2_TIME_COST=2
ARGON2_PARALLELISM=1

# === Database Pool ===
# Connection pool settings
DB_MAX_CONNECTIONS=100
DB_MIN_CONNECTIONS=5
DB_CONNECT_TIMEOUT=30
DB_IDLE_TIMEOUT=600
DB_MAX_LIFETIME=1800

# === Redis Pool ===
# Redis connection pool settings
REDIS_MAX_CONNECTIONS=50
REDIS_MIN_CONNECTIONS=5
REDIS_CONNECT_TIMEOUT=10

# === Rate Limiting ===
# Request rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=1000
RATE_LIMIT_PER_IP=100

# === File Upload ===
# Maximum file upload size in bytes
MAX_UPLOAD_SIZE=10485760  # 10 MB

# === Email Configuration (for production) ===
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USERNAME=apikey
# SMTP_PASSWORD=your-sendgrid-api-key
# SMTP_FROM_EMAIL=noreply@olympuscloud.io
# SMTP_FROM_NAME=Olympus Cloud

# === External Services ===
# Payment gateway (for production)
# STRIPE_API_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# Storage service (for production)
# GCS_BUCKET=olympus-uploads
# GCS_PROJECT_ID=your-project-id

# === Feature Flags ===
# Enable/disable features
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_2FA=false
ENABLE_AUDIT_LOG=true

# === Performance ===
# Worker thread configuration
WORKER_THREADS=4

# === Monitoring (for production) ===
# SENTRY_DSN=https://...@sentry.io/...
# PROMETHEUS_PORT=9090

# === Testing ===
# Test database (used when running tests)
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/olympus_test